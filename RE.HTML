<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title> Car Recommender — Results</title>
    <link rel="stylesheet" href="Q.CSS">
</head>

<body>
    <div class="bg-slide"></div>
    <div class="bg-overlay"></div>

    <div class="container">
        <header class="site-header small">
            <h1 style="color:white">Recommended Cars</h1>
            <p style="color:white">Only cars that match your preferences are shown below.</p>
        </header>

        <section class="glass results-section">
            <div class="controls" style="align-items:center;">
                <input id="liveSearch" type="text" placeholder="Live search (brand, model, feature)..." style="flex:1; padding:10px 12px; border-radius:8px; border:1px solid rgba(10,25,60,0.06);">
                <div style="display:flex; gap:8px; margin-left:12px;">
                    <button id="backBtn" class="btn ghost">← Back</button>
                    <button id="printBtn" class="btn">Print</button>
                </div>
            </div>

            <div id="infoBar" class="info-bar">Filtering results...</div>

            <div id="spinner" class="spinner"></div>
            <div id="resultsGrid" class="car-results"></div>
        </section>
    </div>

    <script>
        /* ---------- embedded dataset (100 rows: 10 brands × 10 cars) ---------- */
        /* Re-using dataset from the earlier full project: */
        const CAR_DATA = [{
                brand: "Toyota",
                model: "Corolla",
                fuel: "Petrol",
                body: "Sedan",
                features: ["AC", "Bluetooth"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 2000000
            }, {
                brand: "Toyota",
                model: "Camry",
                fuel: "Hybrid",
                body: "Sedan",
                features: ["AC", "Cruise Control"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 3000000
            }, {
                brand: "Toyota",
                model: "RAV4",
                fuel: "Diesel",
                body: "SUV",
                features: ["Sunroof", "Bluetooth"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 3500000
            }, {
                brand: "Toyota",
                model: "Fortuner",
                fuel: "Diesel",
                body: "SUV",
                features: ["AC", "GPS"],
                safety: 5,
                seating: 7,
                transmission: "Automatic",
                price: 4500000
            }, {
                brand: "Toyota",
                model: "Yaris",
                fuel: "Petrol",
                body: "Hatchback",
                features: ["AC", "Bluetooth"],
                safety: 4,
                seating: 5,
                transmission: "Manual",
                price: 1800000
            }, {
                brand: "Toyota",
                model: "Innova",
                fuel: "Diesel",
                body: "MPV",
                features: ["AC", "Music System"],
                safety: 5,
                seating: 7,
                transmission: "Manual",
                price: 3200000
            }, {
                brand: "Toyota",
                model: "Hilux",
                fuel: "Diesel",
                body: "Pickup",
                features: ["AC", "GPS"],
                safety: 4,
                seating: 2,
                transmission: "Manual",
                price: 4000000
            }, {
                brand: "Toyota",
                model: "Prius",
                fuel: "Hybrid",
                body: "Hatchback",
                features: ["AC", "Cruise Control"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 2800000
            }, {
                brand: "Toyota",
                model: "Supra",
                fuel: "Petrol",
                body: "Sports",
                features: ["AC", "Sport Mode"],
                safety: 5,
                seating: 2,
                transmission: "Manual",
                price: 5500000
            }, {
                brand: "Toyota",
                model: "C-HR",
                fuel: "Hybrid",
                body: "SUV",
                features: ["AC", "Bluetooth"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 3700000
            },

            {
                brand: "Honda",
                model: "Civic",
                fuel: "Petrol",
                body: "Sedan",
                features: ["AC", "Bluetooth"],
                safety: 5,
                seating: 5,
                transmission: "Manual",
                price: 2200000
            }, {
                brand: "Honda",
                model: "City",
                fuel: "Petrol",
                body: "Sedan",
                features: ["AC", "Cruise Control"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 1800000
            }, {
                brand: "Honda",
                model: "CR-V",
                fuel: "Diesel",
                body: "SUV",
                features: ["Sunroof", "GPS"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 3200000
            }, {
                brand: "Honda",
                model: "HR-V",
                fuel: "Petrol",
                body: "SUV",
                features: ["AC", "Music System"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 2700000
            }, {
                brand: "Honda",
                model: "Jazz",
                fuel: "Petrol",
                body: "Hatchback",
                features: ["AC", "Bluetooth"],
                safety: 4,
                seating: 5,
                transmission: "Manual",
                price: 1500000
            }, {
                brand: "Honda",
                model: "Accord",
                fuel: "Hybrid",
                body: "Sedan",
                features: ["AC", "Cruise Control"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 3500000
            }, {
                brand: "Honda",
                model: "Amaze",
                fuel: "Diesel",
                body: "Sedan",
                features: ["AC", "Music System"],
                safety: 4,
                seating: 5,
                transmission: "Manual",
                price: 1200000
            }, {
                brand: "Honda",
                model: "WR-V",
                fuel: "Petrol",
                body: "SUV",
                features: ["AC", "Bluetooth"],
                safety: 4,
                seating: 5,
                transmission: "Manual",
                price: 2000000
            }, {
                brand: "Honda",
                model: "NSX",
                fuel: "Petrol",
                body: "Sports",
                features: ["AC", "Sport Mode"],
                safety: 5,
                seating: 2,
                transmission: "Manual",
                price: 15000000
            }, {
                brand: "Honda",
                model: "Pilot",
                fuel: "Diesel",
                body: "SUV",
                features: ["AC", "GPS"],
                safety: 5,
                seating: 7,
                transmission: "Automatic",
                price: 4500000
            },

            {
                brand: "Tesla",
                model: "Model S",
                fuel: "Electric",
                body: "Sedan",
                features: ["Autopilot", "Touchscreen"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 9000000
            }, {
                brand: "Tesla",
                model: "Model 3",
                fuel: "Electric",
                body: "Sedan",
                features: ["Autopilot", "Bluetooth"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 4000000
            }, {
                brand: "Tesla",
                model: "Model X",
                fuel: "Electric",
                body: "SUV",
                features: ["Falcon Doors", "Autopilot"],
                safety: 5,
                seating: 7,
                transmission: "Automatic",
                price: 9500000
            }, {
                brand: "Tesla",
                model: "Model Y",
                fuel: "Electric",
                body: "SUV",
                features: ["Autopilot", "Bluetooth"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 5000000
            }, {
                brand: "Tesla",
                model: "Cybertruck",
                fuel: "Electric",
                body: "Pickup",
                features: ["Armored Body", "Autopilot"],
                safety: 5,
                seating: 6,
                transmission: "Automatic",
                price: 7000000
            }, {
                brand: "Tesla",
                model: "Roadster",
                fuel: "Electric",
                body: "Sports",
                features: ["Autopilot", "Sport Mode"],
                safety: 5,
                seating: 2,
                transmission: "Automatic",
                price: 20000000
            }, {
                brand: "Tesla",
                model: "Semi",
                fuel: "Electric",
                body: "Truck",
                features: ["Autopilot", "GPS"],
                safety: 5,
                seating: 2,
                transmission: "Automatic",
                price: 15000000
            }, {
                brand: "Tesla",
                model: "Model 2",
                fuel: "Electric",
                body: "Hatchback",
                features: ["Autopilot", "Bluetooth"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 2500000
            }, {
                brand: "Tesla",
                model: "Model Q",
                fuel: "Electric",
                body: "SUV",
                features: ["Autopilot", "Music System"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 6000000
            }, {
                brand: "Tesla",
                model: "Model Z",
                fuel: "Electric",
                body: "Sedan",
                features: ["Autopilot", "Cruise Control"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 4500000
            },

            {
                brand: "BMW",
                model: "X1",
                fuel: "Diesel",
                body: "SUV",
                features: ["AC", "Cruise Control"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 3500000
            }, {
                brand: "BMW",
                model: "X3",
                fuel: "Diesel",
                body: "SUV",
                features: ["Sunroof", "Bluetooth"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 4500000
            }, {
                brand: "BMW",
                model: "X5",
                fuel: "Diesel",
                body: "SUV",
                features: ["AC", "GPS"],
                safety: 5,
                seating: 7,
                transmission: "Automatic",
                price: 6000000
            }, {
                brand: "BMW",
                model: "3 Series",
                fuel: "Petrol",
                body: "Sedan",
                features: ["AC", "Music System"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 4000000
            }, {
                brand: "BMW",
                model: "5 Series",
                fuel: "Hybrid",
                body: "Sedan",
                features: ["AC", "Cruise Control"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 5500000
            }, {
                brand: "BMW",
                model: "7 Series",
                fuel: "Petrol",
                body: "Sedan",
                features: ["AC", "Bluetooth"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 8000000
            }, {
                brand: "BMW",
                model: "Z4",
                fuel: "Petrol",
                body: "Sports",
                features: ["Sport Mode", "AC"],
                safety: 5,
                seating: 2,
                transmission: "Manual",
                price: 7000000
            }, {
                brand: "BMW",
                model: "i3",
                fuel: "Electric",
                body: "Hatchback",
                features: ["AC", "Touchscreen"],
                safety: 5,
                seating: 4,
                transmission: "Automatic",
                price: 4500000
            }, {
                brand: "BMW",
                model: "i8",
                fuel: "Hybrid",
                body: "Sports",
                features: ["Sport Mode", "AC"],
                safety: 5,
                seating: 2,
                transmission: "Automatic",
                price: 14000000
            }, {
                brand: "BMW",
                model: "X6",
                fuel: "Diesel",
                body: "SUV",
                features: ["AC", "GPS"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 6500000
            },

            {
                brand: "Audi",
                model: "A3",
                fuel: "Petrol",
                body: "Sedan",
                features: ["AC", "Bluetooth"],
                safety: 5,
                seating: 5,
                transmission: "Manual",
                price: 3000000
            }, {
                brand: "Audi",
                model: "A4",
                fuel: "Diesel",
                body: "Sedan",
                features: ["AC", "Cruise Control"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 4000000
            }, {
                brand: "Audi",
                model: "A6",
                fuel: "Diesel",
                body: "Sedan",
                features: ["AC", "GPS"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 5500000
            }, {
                brand: "Audi",
                model: "Q3",
                fuel: "Petrol",
                body: "SUV",
                features: ["AC", "Bluetooth"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 3500000
            }, {
                brand: "Audi",
                model: "Q5",
                fuel: "Diesel",
                body: "SUV",
                features: ["AC", "Cruise Control"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 4500000
            }, {
                brand: "Audi",
                model: "Q7",
                fuel: "Diesel",
                body: "SUV",
                features: ["AC", "GPS"],
                safety: 5,
                seating: 7,
                transmission: "Automatic",
                price: 6000000
            }, {
                brand: "Audi",
                model: "R8",
                fuel: "Petrol",
                body: "Sports",
                features: ["Sport Mode", "AC"],
                safety: 5,
                seating: 2,
                transmission: "Manual",
                price: 16000000
            }, {
                brand: "Audi",
                model: "TT",
                fuel: "Petrol",
                body: "Sports",
                features: ["AC", "Bluetooth"],
                safety: 5,
                seating: 2,
                transmission: "Manual",
                price: 6500000
            }, {
                brand: "Audi",
                model: "e-tron",
                fuel: "Electric",
                body: "SUV",
                features: ["AC", "Autopilot"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 7500000
            }, {
                brand: "Audi",
                model: "Q8",
                fuel: "Diesel",
                body: "SUV",
                features: ["AC", "GPS"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 9000000
            },

            {
                brand: "Mercedes",
                model: "C-Class",
                fuel: "Petrol",
                body: "Sedan",
                features: ["AC", "Bluetooth"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 4000000
            }, {
                brand: "Mercedes",
                model: "E-Class",
                fuel: "Diesel",
                body: "Sedan",
                features: ["AC", "Cruise Control"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 5500000
            }, {
                brand: "Mercedes",
                model: "S-Class",
                fuel: "Hybrid",
                body: "Sedan",
                features: ["AC", "GPS"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 9000000
            }, {
                brand: "Mercedes",
                model: "GLA",
                fuel: "Petrol",
                body: "SUV",
                features: ["AC", "Bluetooth"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 3500000
            }, {
                brand: "Mercedes",
                model: "GLC",
                fuel: "Diesel",
                body: "SUV",
                features: ["AC", "Cruise Control"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 4500000
            }, {
                brand: "Mercedes",
                model: "GLE",
                fuel: "Diesel",
                body: "SUV",
                features: ["AC", "GPS"],
                safety: 5,
                seating: 7,
                transmission: "Automatic",
                price: 6000000
            }, {
                brand: "Mercedes",
                model: "AMG GT",
                fuel: "Petrol",
                body: "Sports",
                features: ["Sport Mode", "AC"],
                safety: 5,
                seating: 2,
                transmission: "Manual",
                price: 15000000
            }, {
                brand: "Mercedes",
                model: "B-Class",
                fuel: "Petrol",
                body: "Hatchback",
                features: ["AC", "Bluetooth"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 2500000
            }, {
                brand: "Mercedes",
                model: "EQC",
                fuel: "Electric",
                body: "SUV",
                features: ["Autopilot", "AC"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 7000000
            }, {
                brand: "Mercedes",
                model: "V-Class",
                fuel: "Diesel",
                body: "MPV",
                features: ["AC", "GPS"],
                safety: 5,
                seating: 7,
                transmission: "Automatic",
                price: 5000000
            },

            {
                brand: "Kia",
                model: "Seltos",
                fuel: "Petrol",
                body: "SUV",
                features: ["AC", "Bluetooth"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 1800000
            }, {
                brand: "Kia",
                model: "Sonet",
                fuel: "Diesel",
                body: "SUV",
                features: ["AC", "Cruise Control"],
                safety: 5,
                seating: 5,
                transmission: "Manual",
                price: 1500000
            }, {
                brand: "Kia",
                model: "Carnival",
                fuel: "Petrol",
                body: "MPV",
                features: ["AC", "GPS"],
                safety: 5,
                seating: 7,
                transmission: "Automatic",
                price: 3500000
            }, {
                brand: "Kia",
                model: "Stinger",
                fuel: "Petrol",
                body: "Sports",
                features: ["Sport Mode", "AC"],
                safety: 5,
                seating: 5,
                transmission: "Manual",
                price: 5500000
            }, {
                brand: "Kia",
                model: "Telluride",
                fuel: "Diesel",
                body: "SUV",
                features: ["AC", "Bluetooth"],
                safety: 5,
                seating: 7,
                transmission: "Automatic",
                price: 4000000
            }, {
                brand: "Kia",
                model: "EV6",
                fuel: "Electric",
                body: "SUV",
                features: ["Autopilot", "AC"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 4500000
            }, {
                brand: "Kia",
                model: "Picanto",
                fuel: "Petrol",
                body: "Hatchback",
                features: ["AC", "Bluetooth"],
                safety: 4,
                seating: 5,
                transmission: "Manual",
                price: 1200000
            }, {
                brand: "Kia",
                model: "K5",
                fuel: "Petrol",
                body: "Sedan",
                features: ["AC", "Cruise Control"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 2500000
            }, {
                brand: "Kia",
                model: "Mohave",
                fuel: "Diesel",
                body: "SUV",
                features: ["AC", "GPS"],
                safety: 5,
                seating: 7,
                transmission: "Automatic",
                price: 5000000
            }, {
                brand: "Kia",
                model: "Sportage",
                fuel: "Petrol",
                body: "SUV",
                features: ["AC", "Music System"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 3000000
            },

            {
                brand: "Hyundai",
                model: "Creta",
                fuel: "Petrol",
                body: "SUV",
                features: ["AC", "Bluetooth"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 1900000
            }, {
                brand: "Hyundai",
                model: "Venue",
                fuel: "Diesel",
                body: "SUV",
                features: ["AC", "Cruise Control"],
                safety: 5,
                seating: 5,
                transmission: "Manual",
                price: 1500000
            }, {
                brand: "Hyundai",
                model: "Tucson",
                fuel: "Diesel",
                body: "SUV",
                features: ["AC", "GPS"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 3500000
            }, {
                brand: "Hyundai",
                model: "Elantra",
                fuel: "Petrol",
                body: "Sedan",
                features: ["AC", "Music System"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 2000000
            }, {
                brand: "Hyundai",
                model: "Sonata",
                fuel: "Hybrid",
                body: "Sedan",
                features: ["AC", "Cruise Control"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 3000000
            }, {
                brand: "Hyundai",
                model: "Kona",
                fuel: "Electric",
                body: "SUV",
                features: ["Autopilot", "AC"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 4000000
            }, {
                brand: "Hyundai",
                model: "i20",
                fuel: "Petrol",
                body: "Hatchback",
                features: ["AC", "Bluetooth"],
                safety: 4,
                seating: 5,
                transmission: "Manual",
                price: 1200000
            }, {
                brand: "Hyundai",
                model: "i10",
                fuel: "Petrol",
                body: "Hatchback",
                features: ["AC", "Music System"],
                safety: 4,
                seating: 5,
                transmission: "Manual",
                price: 1000000
            }, {
                brand: "Hyundai",
                model: "Santa Fe",
                fuel: "Diesel",
                body: "SUV",
                features: ["AC", "GPS"],
                safety: 5,
                seating: 7,
                transmission: "Automatic",
                price: 4500000
            }, {
                brand: "Hyundai",
                model: "Nexo",
                fuel: "Hydrogen",
                body: "SUV",
                features: ["Autopilot", "AC"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 7000000
            },

            {
                brand: "Maruti",
                model: "Swift",
                fuel: "Petrol",
                body: "Hatchback",
                features: ["AC", "Bluetooth"],
                safety: 4,
                seating: 5,
                transmission: "Manual",
                price: 1000000
            }, {
                brand: "Maruti",
                model: "Dzire",
                fuel: "Petrol",
                body: "Sedan",
                features: ["AC", "Music System"],
                safety: 4,
                seating: 5,
                transmission: "Manual",
                price: 1200000
            }, {
                brand: "Maruti",
                model: "Ertiga",
                fuel: "Diesel",
                body: "MPV",
                features: ["AC", "Bluetooth"],
                safety: 5,
                seating: 7,
                transmission: "Manual",
                price: 1500000
            }, {
                brand: "Maruti",
                model: "Baleno",
                fuel: "Petrol",
                body: "Hatchback",
                features: ["AC", "Cruise Control"],
                safety: 4,
                seating: 5,
                transmission: "Manual",
                price: 1300000
            }, {
                brand: "Maruti",
                model: "Vitara Brezza",
                fuel: "Diesel",
                body: "SUV",
                features: ["AC", "Bluetooth"],
                safety: 5,
                seating: 5,
                transmission: "Manual",
                price: 1800000
            }, {
                brand: "Maruti",
                model: "Celerio",
                fuel: "Petrol",
                body: "Hatchback",
                features: ["AC", "Music System"],
                safety: 4,
                seating: 5,
                transmission: "Manual",
                price: 900000
            }, {
                brand: "Maruti",
                model: "Ignis",
                fuel: "Petrol",
                body: "Hatchback",
                features: ["AC", "Bluetooth"],
                safety: 4,
                seating: 5,
                transmission: "Manual",
                price: 950000
            }, {
                brand: "Maruti",
                model: "S-Cross",
                fuel: "Diesel",
                body: "SUV",
                features: ["AC", "GPS"],
                safety: 5,
                seating: 5,
                transmission: "Manual",
                price: 1700000
            }, {
                brand: "Maruti",
                model: "Alto",
                fuel: "Petrol",
                body: "Hatchback",
                features: ["AC"],
                safety: 3,
                seating: 4,
                transmission: "Manual",
                price: 700000
            }, {
                brand: "Maruti",
                model: "Ciaz",
                fuel: "Petrol",
                body: "Sedan",
                features: ["AC", "Music System"],
                safety: 4,
                seating: 5,
                transmission: "Manual",
                price: 1400000
            },

            {
                brand: "Tata",
                model: "Nexon",
                fuel: "Petrol",
                body: "SUV",
                features: ["AC", "Bluetooth"],
                safety: 5,
                seating: 5,
                transmission: "Manual",
                price: 1500000
            }, {
                brand: "Tata",
                model: "Nexon EV",
                fuel: "Electric",
                body: "SUV",
                features: ["AC", "Touchscreen"],
                safety: 5,
                seating: 5,
                transmission: "Automatic",
                price: 2500000
            }, {
                brand: "Tata",
                model: "Harrier",
                fuel: "Diesel",
                body: "SUV",
                features: ["AC", "GPS"],
                safety: 5,
                seating: 5,
                transmission: "Manual",
                price: 3000000
            }, {
                brand: "Tata",
                model: "Altroz",
                fuel: "Petrol",
                body: "Hatchback",
                features: ["AC", "Bluetooth"],
                safety: 5,
                seating: 5,
                transmission: "Manual",
                price: 1200000
            }, {
                brand: "Tata",
                model: "Tiago",
                fuel: "Petrol",
                body: "Hatchback",
                features: ["AC"],
                safety: 4,
                seating: 5,
                transmission: "Manual",
                price: 900000
            }, {
                brand: "Tata",
                model: "Punch",
                fuel: "Petrol",
                body: "SUV",
                features: ["AC", "Music System"],
                safety: 5,
                seating: 5,
                transmission: "Manual",
                price: 1300000
            }, {
                brand: "Tata",
                model: "Safari",
                fuel: "Diesel",
                body: "SUV",
                features: ["AC", "GPS"],
                safety: 5,
                seating: 7,
                transmission: "Automatic",
                price: 4000000
            }, {
                brand: "Tata",
                model: "Tigor",
                fuel: "Petrol",
                body: "Sedan",
                features: ["AC", "Bluetooth"],
                safety: 4,
                seating: 5,
                transmission: "Manual",
                price: 1100000
            }, {
                brand: "Tata",
                model: "Hexa",
                fuel: "Diesel",
                body: "SUV",
                features: ["AC", "Cruise Control"],
                safety: 5,
                seating: 7,
                transmission: "Manual",
                price: 3800000
            }, {
                brand: "Tata",
                model: "Buzz EV",
                fuel: "Electric",
                body: "MPV",
                features: ["Autopilot", "AC"],
                safety: 5,
                seating: 6,
                transmission: "Automatic",
                price: 4500000
            }
        ];
        /* ---------- end dataset ---------- */

        /* get preferences saved from index.html */
        const prefs = JSON.parse(localStorage.getItem('carPreferences') || '{}');
        const resultsGrid = document.getElementById('resultsGrid');
        const spinner = document.getElementById('spinner');
        const infoBar = document.getElementById('infoBar');
        const liveSearch = document.getElementById('liveSearch');

        function matchesPrefs(car, preferences) {
            const budget = preferences.budget ? parseInt(preferences.budget) : null;
            const minSafety = preferences.safety ? parseInt(preferences.safety) : null;
            const seating = preferences.seating ? parseInt(preferences.seating) : null;
            const featuresNeeded = preferences.features ? preferences.features.split(',').map(s => s.trim()).filter(Boolean) : [];

            if (preferences.brand && preferences.brand !== "" && car.brand !== preferences.brand) return false;
            if (preferences.fuel && preferences.fuel !== "" && car.fuel !== preferences.fuel) return false;
            if (preferences.body && preferences.body !== "" && car.body !== preferences.body) return false;
            if (budget && car.price > budget) return false;
            if (minSafety && car.safety < minSafety) return false;
            if (seating && car.seating < seating) return false;
            if (featuresNeeded.length) {
                const carFeaturesLower = car.features.map(f => f.toLowerCase());
                const ok = featuresNeeded.every(req => carFeaturesLower.includes(req.toLowerCase()));
                if (!ok) return false;
            }
            return true;
        }

        /* show spinner and then render */
        function showResults() {
            spinner.style.display = 'block';
            resultsGrid.innerHTML = '';
            infoBar.textContent = 'Filtering cars...';
            setTimeout(() => {
                const filtered = CAR_DATA.filter(c => matchesPrefs(c, prefs));
                spinner.style.display = 'none';

                if (filtered.length === 0) {
                    infoBar.textContent = 'No cars match your preferences.';
                    resultsGrid.innerHTML = '<div class="no-result">No matching cars found. Try changing filters.</div>';
                    return;
                }

                infoBar.textContent = `${filtered.length} matching car(s) — use live search to refine.`;
                renderGrid(filtered);
                // store current displayed for live search
                window.currentDisplayed = filtered;
            }, 650);
        }

        /* render grid cards */
        function renderGrid(list) {
            resultsGrid.innerHTML = '';
            list.forEach((car, idx) => {
                // small rotating car icon (from flaticon)
                const card = document.createElement('div');
                card.className = 'car-card';
                card.innerHTML = `
      <img class="car-icon" src="https://cdn-icons-png.flaticon.com/512/743/743988.png" alt="car icon">
      <div class="card-body">
        <h3>${car.brand} ${car.model}</h3>
        <p><strong>Fuel:</strong> ${car.fuel} • <strong>Body:</strong> ${car.body}</p>
        <p><strong>Seating:</strong> ${car.seating} • <strong>Safety:</strong> ${car.safety}★</p>
        <p><strong>Features:</strong> ${car.features.join(', ')}</p>
        <p style="margin-top:6px;font-weight:700;color:#044b9a">₹${car.price.toLocaleString()}</p>
      </div>
    `;
                resultsGrid.appendChild(card);
            });
        }

        /* live search filtering on what's currently displayed */
        liveSearch.addEventListener('input', (e) => {
            const q = e.target.value.trim().toLowerCase();
            const base = window.currentDisplayed || CAR_DATA.filter(c => matchesPrefs(c, prefs));
            if (!q) {
                renderGrid(base);
                return;
            }
            const filtered = base.filter(car => {
                return (`${car.brand} ${car.model}`.toLowerCase().includes(q)) ||
                    car.features.join(' ').toLowerCase().includes(q) ||
                    car.fuel.toLowerCase().includes(q) ||
                    car.body.toLowerCase().includes(q);
            });
            renderGrid(filtered);
        });

        /* back and print buttons */
        document.getElementById('backBtn').addEventListener('click', () => {
            window.location.href = 'index.HTML';
        });
        document.getElementById('printBtn').addEventListener('click', () => window.print());

        /* init */
        document.addEventListener('DOMContentLoaded', showResults);
    </script>
</body>

</html>